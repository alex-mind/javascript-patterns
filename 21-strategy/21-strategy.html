<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>

<script>
  class Table {
    constructor(data, options = {}) {
      this.data = data;
      this.sortType = options.sortType;
    }

    sort (callback) {
      if (this.sortType === 'client') {
        const sortedData = [...this.data].sort((a, b) => a - b);

        callback(sortedData);
      }

      if (this.sortType === 'server') {
        fetch('https://api.some-server.com/get-sorted-data')
          .then(response => response.json())
          .then(data => callback(data));
      }
    }
  }

  class SortOnClientStrategy {
    sort (data, callback) {
      const sortedData = [...data].sort((a, b) => {
        return a - b;
      });

      callback(sortedData);
    }
  }

  class SortOnServerStrategy {
    sort (data, callback) {
      fetch('https://api.some-server.com/get-sorted-data')
        .then(response => response.json())
        .then(data => callback(data));
    }
  }

  class BetterTable {
    constructor(data, strategy) {
      this.data = data;
      this.strategy = strategy;
    }

    sort () {
      this.strategy.sort(this.data, sortedData => {
        console.error(sortedData);
      });
    }
  }
</script>
</body>
</html>
